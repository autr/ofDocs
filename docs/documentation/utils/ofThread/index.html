<!doctype html>
<html data-n-head-ssr>
  <head>
    <meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" data-hid="keyword" name="keyword" content=""><meta data-n-head="ssr" property="og:description" content="" vmid="og:description"><meta data-n-head="ssr" property="og:title" content="" vmid="og:title"><meta data-n-head="ssr" property="og:image" content="" vmid="og:image"><link rel="preload" href="/_nuxt/cede893bee7aedd34019.js" as="script"><link rel="preload" href="/_nuxt/561e36663ec83bdcd2ac.js" as="script"><link rel="preload" href="/_nuxt/fe12c0cb7395fa1032f4.css" as="style"><link rel="preload" href="/_nuxt/26c5a70906ce7aaac460.js" as="script"><link rel="preload" href="/_nuxt/75259d9b56378e7dbe47.css" as="style"><link rel="preload" href="/_nuxt/2c5d9034468f7212e81b.js" as="script"><link rel="preload" href="/_nuxt/74971516fa343f955f83.css" as="style"><link rel="preload" href="/_nuxt/3517dc6c150c1f5be417.js" as="script"><link rel="stylesheet" href="/_nuxt/fe12c0cb7395fa1032f4.css"><link rel="stylesheet" href="/_nuxt/75259d9b56378e7dbe47.css"><link rel="stylesheet" href="/_nuxt/74971516fa343f955f83.css">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="app" class="unknown"><div id="menu"><h1 class="of"><div class="inner"><span><a href="/" class="nuxt-link-active"><div class="txt"><span class="docs f7 questrial">ofDocs </span><span class="version">0.11.0</span></div></a></span></div></h1><div id="search"><div class="inner"><div class="field text"><div class="field-inner"><svg viewbox="0 0 36 36" x="0px" y="0px" enable-background="new 0 0 36 36" xml:space="preserve"><path d="M35.525,31.228l-8.88-8.882c1.444-2.238,2.298-4.895,2.298-7.752c0-7.909-6.438-14.343-14.346-14.343						c-7.911,0-14.343,6.434-14.343,14.343c0,7.911,6.433,14.344,14.343,14.344c2.856,0,5.513-0.849,7.752-2.294l8.88,8.88						c0.295,0.297,0.782,0.297,1.076,0l3.22-3.221C35.824,32.008,35.824,31.523,35.525,31.228z M4.81,14.593						c0-5.396,4.391-9.788,9.788-9.788c5.398,0,9.787,4.392,9.787,9.788c0,5.398-4.389,9.789-9.787,9.789						C9.2,24.382,4.81,19.991,4.81,14.593z"></path></svg><!----><div class="text-wrapper"><input id="search_field" name="search_field" placeholder="Search (Alt+F)" autocomplete="off" tabindex="0"></div><!----><!----></div></div></div><div id="results" class="mt1"></div></div><div id="lists" class="menu-inner mt1"><div class="inner"><div class="item"><a href="/documentation/" title="/documentation/" class="nuxt-link-active"><!----><span>documentation</span></a><div class="list"><div class="item"><a href="/documentation/3d/" title="/documentation/3d/"><!----><span>3d</span></a><!----></div><div class="item"><a href="/documentation/addons/" title="/documentation/addons/"><!----><span>addons</span></a><!----></div><div class="item"><a href="/documentation/application/" title="/documentation/application/"><!----><span>application</span></a><!----></div><div class="item"><a href="/documentation/communication/" title="/documentation/communication/"><!----><span>communication</span></a><!----></div><div class="item"><a href="/documentation/events/" title="/documentation/events/"><!----><span>events</span></a><!----></div><div class="item"><a href="/documentation/gl/" title="/documentation/gl/"><!----><span>gl</span></a><!----></div><div class="item"><a href="/documentation/glm/" title="/documentation/glm/"><!----><span>glm</span></a><!----></div><div class="item"><a href="/documentation/graphics/" title="/documentation/graphics/"><!----><span>graphics</span></a><!----></div><div class="item"><a href="/documentation/math/" title="/documentation/math/"><!----><span>math</span></a><!----></div><div class="item"><a href="/documentation/sound/" title="/documentation/sound/"><!----><span>sound</span></a><!----></div><div class="item"><a href="/documentation/types/" title="/documentation/types/"><!----><span>types</span></a><!----></div><div class="item"><a href="/documentation/utils/" title="/documentation/utils/" class="nuxt-link-active"><!----><span>utils</span></a><div class="list"><div class="item"><a href="/documentation/utils/ExtensionComparator" title="/documentation/utils/ExtensionComparator.markdown"><!----><span>ExtensionComparator</span></a><!----></div><div class="item"><a href="/documentation/utils/ofBuffer::Line" title="/documentation/utils/ofBuffer::Line.markdown"><!----><span>ofBuffer::Line</span></a><!----></div><div class="item"><a href="/documentation/utils/ofBuffer::Lines" title="/documentation/utils/ofBuffer::Lines.markdown"><!----><span>ofBuffer::Lines</span></a><!----></div><div class="item"><a href="/documentation/utils/ofBuffer::RLine" title="/documentation/utils/ofBuffer::RLine.markdown"><!----><span>ofBuffer::RLine</span></a><!----></div><div class="item"><a href="/documentation/utils/ofBuffer::RLines" title="/documentation/utils/ofBuffer::RLines.markdown"><!----><span>ofBuffer::RLines</span></a><!----></div><div class="item"><a href="/documentation/utils/ofBuffer" title="/documentation/utils/ofBuffer.markdown"><!----><span>ofBuffer</span></a><!----></div><div class="item"><a href="/documentation/utils/ofConsoleLoggerChannel" title="/documentation/utils/ofConsoleLoggerChannel.markdown"><!----><span>ofConsoleLoggerChannel</span></a><!----></div><div class="item"><a href="/documentation/utils/ofDirectory" title="/documentation/utils/ofDirectory.markdown"><!----><span>ofDirectory</span></a><!----></div><div class="item"><a href="/documentation/utils/ofFile" title="/documentation/utils/ofFile.markdown"><!----><span>ofFile</span></a><!----></div><div class="item"><a href="/documentation/utils/ofFileDialogResult" title="/documentation/utils/ofFileDialogResult.markdown"><!----><span>ofFileDialogResult</span></a><!----></div><div class="item"><a href="/documentation/utils/ofFileLoggerChannel" title="/documentation/utils/ofFileLoggerChannel.markdown"><!----><span>ofFileLoggerChannel</span></a><!----></div><div class="item"><a href="/documentation/utils/ofFilePath" title="/documentation/utils/ofFilePath.markdown"><!----><span>ofFilePath</span></a><!----></div><div class="item"><a href="/documentation/utils/ofFileUtils_functions" title="/documentation/utils/ofFileUtils_functions.markdown"><!----><span>ofFileUtils_functions</span></a><!----></div><div class="item"><a href="/documentation/utils/ofFpsCounter" title="/documentation/utils/ofFpsCounter.markdown"><!----><span>ofFpsCounter</span></a><!----></div><div class="item"><a href="/documentation/utils/ofHttpRequest" title="/documentation/utils/ofHttpRequest.markdown"><!----><span>ofHttpRequest</span></a><!----></div><div class="item"><a href="/documentation/utils/ofHttpResponse" title="/documentation/utils/ofHttpResponse.markdown"><!----><span>ofHttpResponse</span></a><!----></div><div class="item"><a href="/documentation/utils/ofLog_functions" title="/documentation/utils/ofLog_functions.markdown"><!----><span>ofLog_functions</span></a><!----></div><div class="item"><a href="/documentation/utils/ofLog" title="/documentation/utils/ofLog.markdown"><!----><span>ofLog</span></a><!----></div><div class="item"><a href="/documentation/utils/ofLogError" title="/documentation/utils/ofLogError.markdown"><!----><span>ofLogError</span></a><!----></div><div class="item"><a href="/documentation/utils/ofLogFatalError" title="/documentation/utils/ofLogFatalError.markdown"><!----><span>ofLogFatalError</span></a><!----></div><div class="item"><a href="/documentation/utils/ofLogNotice" title="/documentation/utils/ofLogNotice.markdown"><!----><span>ofLogNotice</span></a><!----></div><div class="item"><a href="/documentation/utils/ofLogVerbose" title="/documentation/utils/ofLogVerbose.markdown"><!----><span>ofLogVerbose</span></a><!----></div><div class="item"><a href="/documentation/utils/ofLogWarning" title="/documentation/utils/ofLogWarning.markdown"><!----><span>ofLogWarning</span></a><!----></div><div class="item"><a href="/documentation/utils/ofMatrixStack" title="/documentation/utils/ofMatrixStack.markdown"><!----><span>ofMatrixStack</span></a><!----></div><div class="item"><a href="/documentation/utils/ofSystemUtils_functions" title="/documentation/utils/ofSystemUtils_functions.markdown"><!----><span>ofSystemUtils_functions</span></a><!----></div><div class="item"><a href="/documentation/utils/ofThread" title="/documentation/utils/ofThread.markdown" class="nuxt-link-exact-active nuxt-link-active"><!----><span>ofThread</span></a><div class="list"></div></div><div class="item"><a href="/documentation/utils/ofThreadChannel" title="/documentation/utils/ofThreadChannel.markdown"><!----><span>ofThreadChannel</span></a><div class="list"></div></div><div class="item"><a href="/documentation/utils/ofTime" title="/documentation/utils/ofTime.markdown"><!----><span>ofTime</span></a><!----></div><div class="item"><a href="/documentation/utils/ofTimer" title="/documentation/utils/ofTimer.markdown"><!----><span>ofTimer</span></a><!----></div><div class="item"><a href="/documentation/utils/ofURLFileLoader_functions" title="/documentation/utils/ofURLFileLoader_functions.markdown"><!----><span>ofURLFileLoader_functions</span></a><!----></div><div class="item"><a href="/documentation/utils/ofURLFileLoader" title="/documentation/utils/ofURLFileLoader.markdown"><!----><span>ofURLFileLoader</span></a><!----></div><div class="item"><a href="/documentation/utils/ofUTF8Iterator" title="/documentation/utils/ofUTF8Iterator.markdown"><!----><span>ofUTF8Iterator</span></a><!----></div><div class="item"><a href="/documentation/utils/ofUtils_functions" title="/documentation/utils/ofUtils_functions.markdown"><!----><span>ofUtils_functions</span></a><!----></div><div class="item"><a href="/documentation/utils/ofXml_functions" title="/documentation/utils/ofXml_functions.markdown"><!----><span>ofXml_functions</span></a><!----></div><div class="item"><a href="/documentation/utils/ofXml::Attribute" title="/documentation/utils/ofXml::Attribute.markdown"><!----><span>ofXml::Attribute</span></a><!----></div><div class="item"><a href="/documentation/utils/ofXml::Range" title="/documentation/utils/ofXml::Range.markdown"><!----><span>ofXml::Range</span></a><!----></div><div class="item"><a href="/documentation/utils/ofXml::Search" title="/documentation/utils/ofXml::Search.markdown"><!----><span>ofXml::Search</span></a><!----></div><div class="item"><a href="/documentation/utils/ofXml" title="/documentation/utils/ofXml.markdown"><!----><span>ofXml</span></a><!----></div><div class="item"><a href="/documentation/utils/ofXmlIterator" title="/documentation/utils/ofXmlIterator.markdown"><!----><span>ofXmlIterator</span></a><!----></div><div class="item"><a href="/documentation/utils/ofXmlSearchIterator" title="/documentation/utils/ofXmlSearchIterator.markdown"><!----><span>ofXmlSearchIterator</span></a><!----></div></div></div><div class="item"><a href="/documentation/video/" title="/documentation/video/"><!----><span>video</span></a><!----></div></div></div><div class="item"><a href="/examples/" title="/examples/"><!----><span>examples</span></a><!----></div><div class="item"><a href="/openframeworks/" title="/openframeworks/"><!----><span>openFrameworks</span></a><!----></div><div class="item"><a href="/addons/" title="/addons/"><!----><span>addons</span></a><!----></div><div class="item"><a href="/guides/" title="/guides/"><!----><span>guides</span></a><!----></div></div></div></div><div id="document"><div id="renderer" class="main"><div absolute="/Users/gilbertsinnott/Code/openFrameworks/ofSite/documentation/utils/ofThread.markdown" route="/documentation/utils/ofThread.markdown" dir="../ofSite/documentation/utils" ext="markdown" type="page" id="2223" parent="2196" siblings="" translations="[object Object]" class="doc-header"><div class="doc-header-inner"><div class="inner"><div class="mt2 mb2"><span class="breadcrumbs"><span class="crumb"><a href="/" class="pink nuxt-link-active">ofDocs</a><span class="chevron right"></span></span><span class="crumb"><a href="/documentation/" class="pink nuxt-link-active">documentation </a><!----><span class="chevron right"></span></span><span class="crumb"><a href="/documentation/utils/" class="pink nuxt-link-active">utils </a><!----><span class="chevron right"></span></span><span class="crumb"><!----><span class="link">ofThread </span><!----></span></span></div></div></div></div><div id="documentation-page" document='<p>#class ofThread</p>
<p>&amp;lt;!--
<em>visible: True</em>
<em>advanced: False</em>
<em>istemplated: False</em>
_extends: _
--&amp;gt;</p>
<p>##InlineDescription</p>
<p>A threaded base class with a built in mutex for convenience.</p>
<p>Users can extend this base class by public inheritance like this:</p>
<pre><code><span class="token keyword">class</span> <span class="token class-name">MyThreadedClass</span><span class="token operator">:</span> <span class="token keyword">public</span> ofThread
<span class="token punctuation">{</span>
    <span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">void</span> <span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Threaded function here<span class="token punctuation">.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>ofThread is a convenient wrapper for Poco::Thread, Poco::Runnable and
Poco::Mutex.  It represents a simplified (sometimes overly simplified -
or simplified in ways that might not make sense for your project)
pathway for quickly writing threaded classes.  Poco::Runnable represents
a class that can be &amp;quot;run&amp;quot; via its void run() method.  Poco::Thread is
able to spawn a thread and &amp;quot;run&amp;quot; the contents of a class that extends
the Poco::Runnable interface (which ofThread does).  Poco::FastMutex,
(aka ofMutex) is a &amp;quot;mutual exclusion&amp;quot; object that prevents two threads
from accessing the same data at the same time.  It is important to know
that Poco::FastMutex (aka ofMutex) is not &amp;quot;recursive&amp;quot; while Poco::Mutex
is. This means that if the same thread attempts to lock a thread while
it ALREADY has a lock on the mutex, the program will lock up and go
nowhere.  Thus, it is important that ofThread subclasses carefully
their use of the mutex.  Currently ofThread does not lock its own mutex
at any point (e.g. ofThread&#39;s internal variables are not thread safe).
This is a somewhat dangerous convenience that is (theoretically)
supposed to make it easier for subclasses to avoid the recursive mutex
&amp;quot;problem&amp;quot;. The situation that arises from two threads simultanously
reading or writing from the same shared data (shared data
occupies the same physical location in memory) leads to something
called a &amp;quot;race condition&amp;quot;, which can lead to deadlocks.
A deadlock is as bad as it sounds.  It means your program
just stops.  ofMutex prevents race conditions, deadlocks and crashes by
permitting only one thread access to shared data at a time.  When using
mutexes to protect data, the trick is to always be sure to unlock the
mutex when finished.  This problem can often be avoided by using
an Poco::FastMutex::ScopedLock (aka ofScopedLock).  See the
the documentation for more information.  Finally, there are many cases
where it might make more sense to use Poco::Thread, Poco::Runnable and
Poco::FastMutex directly rather than using ofThread.  Further, cross
platform thread management will be alleviated with the std::thread
support library included with C++11.</p>
<p>Uncaught Exceptions throw from within ofThread will cause the thread to stop
and the Exception will be delivered to the default ofBaseThreadErrorHandler.
The ofBaseThreadErrorHandler will print the exception details, if available.
The ofBaseThreadErrorHandler offers no opportunity to take corrective action
and only allows the user to receive more valuable debugging information
about the uncaught exception.  Users should design ofThread subclasses to
catch and respond to all anticipated exceptions.</p>
<p>##Description</p>
<p>ofThread is a thread base class with a built in mutex. A <a href="http://en.wikipedia.org/wiki/Thread_(computing)">thread</a> is essentially a mini processing object you can run in parallel to your main application loop and is useful for running time intensive operations without slowing down your app.</p>
<p>####Implementing a Thread</p>
<p>For instance, you have to grab from a camera and waiting for an image slows down your app. You can offload this wait to a thread which tells the main app when an image is ready. To do this, you create a class that inherits from the ofThread class and implement the threadedFunction() function.</p>
<p>Declaration in a .h file:</p>
<pre><code>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofThread <span class="token punctuation">{</span>

	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

	<span class="token comment" spellcheck="true">// the thread function</span>
	<span class="token keyword">void</span> MyThread<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
		<span class="token comment" spellcheck="true">// start</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
			cam<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>cam<span class="token punctuation">.</span><span class="token function">isFrameNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
				<span class="token comment" spellcheck="true">// load the image</span>
				image<span class="token punctuation">.</span><span class="token function">setFromPixels</span><span class="token punctuation">(</span>cam<span class="token punctuation">.</span><span class="token function">getPixels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	
		<span class="token comment" spellcheck="true">// done</span>
	<span class="token punctuation">}</span>
	
	ofVideoGrabber cam<span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// the cam</span>
	ofImage image<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
<p>In the application .h inside the ofApp class declare an object of type MyThread like:</p>
<pre><code><span class="token comment" spellcheck="true">// create object</span>
MyThread thread<span class="token punctuation">;</span>
</code></pre>
<p>then in the .cpp file:</p>
<pre><code>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// start the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">startThread</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// blocking</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token comment" spellcheck="true">// do something with the thread is running</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// stop the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">stopThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>####Shared Resources</p>
<p>With this great power, however, comes great responsibility. If both the thread and your main app loop try to access the image at the same time, bad things happen inside your computer and the app will crash. The image is a considered a &amp;quot;shared resource&amp;quot; and you need to make sure to lock access to it so that only 1 thread can access it a time. You can do this using a <a href="http://en.wikipedia.org/wiki/Mutex">&amp;quot;mutal exclusion&amp;quot; object</a> by called lock() when you want to access the resource, then unlock() when you are done.</p>
<p>Declaration in a .h file:</p>
<pre><code>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofThread <span class="token punctuation">{</span>

	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

	<span class="token comment" spellcheck="true">// the thread function</span>
	<span class="token keyword">void</span> MyThread<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
		<span class="token comment" spellcheck="true">// start</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
			cam<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>cam<span class="token punctuation">.</span><span class="token function">isFrameNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
				<span class="token comment" spellcheck="true">// lock access to the resource</span>
				<span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				
				<span class="token comment" spellcheck="true">// load the image</span>
				image<span class="token punctuation">.</span><span class="token function">setFromPixels</span><span class="token punctuation">(</span>cam<span class="token punctuation">.</span><span class="token function">getPixels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
				<span class="token comment" spellcheck="true">// done with the resource</span>
				<span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>	
		<span class="token punctuation">}</span>
	
		<span class="token comment" spellcheck="true">// done</span>
	<span class="token punctuation">}</span>

	ofVideoGrabber cam<span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// the cam</span>
	ofImage image<span class="token punctuation">;</span>		<span class="token comment" spellcheck="true">// the shared resource</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
<p>In the .cpp file:</p>
<pre><code>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token comment" spellcheck="true">// start the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">startThread</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// blocking, non verbose</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token comment" spellcheck="true">// lock access to the resource</span>
	thread<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment" spellcheck="true">// copy image</span>
	myImage <span class="token operator">=</span> thread<span class="token punctuation">.</span>image<span class="token punctuation">;</span>
	
	<span class="token comment" spellcheck="true">// done with the resource</span>
	thread<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// stop the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">stopThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>####Exiting Nicely</p>
<p>As a thread is running in parallel with your application main loop, it&#39;s important to remember to tell it to stop before exiting the app. If you don&#39;t, you&#39;ll get weird errors or hangs because you aren&#39;t being nice to your threads. Depending on how you started your thread (blocking or non-blocking mode), you will either stop it for wait for it to finish. See the stopThread() &amp;amp; waitForThread() functions.</p>
<p>####Debugging</p>
<p>Thread errors are <em>notoriously</em> difficult to debug sometimes. You will probably see a &amp;quot;Bad Access&amp;quot; runtime error or something similar if multiple threads are trying to access a shared resource simultaneously. Other times, nothing will happen as the thread may be stuck in an infinite loop and you can&#39;t stop it. Wee! We assume if you&#39;ve read this far, you probably accept the difficulties in order to reap the thread speed rewards.</p>
<p>A useful tool in debugging thread timing and access is the ofThread verbose mode which prints thread events such as starting, stopping, and mutex locking/unlocking. Simply set verbose=true when calling startThread(). Another trick is to use an ofSleepMillis() inside the thread to slow it down so you can see the timing better while debugging it.</p>
<p>####HOO RAH</p>
<p>Ok soldier, lock and load ... good luck!</p>
<p>##Methods</p>
<p>###thread &amp;amp; getNativeThread()</p>
<p>&amp;lt;!--
<em>syntax: getNativeThread()</em>
<em>name: getNativeThread</em>
<em>returns: thread &amp;amp;</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Get a reference to the underlying Poco thread.</p>
<p>Poco::Thread provides a clean cross-platform wrapper for
threads.  On occasion, it may be useful to interact with the
underlying Poco::Thread directly.</p>
<p><strong>Returns</strong>: A reference to the backing Poco thread.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###const thread &amp;amp; getNativeThread()</p>
<p>&amp;lt;!--
<em>syntax: getNativeThread()</em>
<em>name: getNativeThread</em>
<em>returns: const thread &amp;amp;</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Get a const reference to the underlying Poco thread.</p>
<p>Poco::Thread provides a clean cross-platform wrapper for
threads.  On occasion, it may be useful to interact with the
underlying Poco::Thread directly.</p>
<p><strong>Returns</strong>: A reference to the backing Poco thread.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###thread::id getThreadId()</p>
<p>&amp;lt;!--
<em>syntax: getThreadId()</em>
<em>name: getThreadId</em>
<em>returns: thread::id</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0071</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Get the unique thread id.
\note This is NOT the the same as the operating thread id!</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###string getThreadName()</p>
<p>&amp;lt;!--
<em>syntax: getThreadName()</em>
<em>name: getThreadName</em>
<em>returns: string</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0.8.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Get the unique thread name, in the form of &amp;quot;Thread id#&amp;quot;</p>
<p><strong>Returns</strong>: the Thread ID string.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool isCurrentThread()</p>
<p>&amp;lt;!--
<em>syntax: isCurrentThread()</em>
<em>name: isCurrentThread</em>
<em>returns: bool</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0071</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Query whether the current thread is active.</p>
<p>In multithreaded situations, it can be useful to know which
thread is currently running some code in order to make sure
only certain threads can do certain things.  For example,
OpenGL can only run in the main execution thread.  Thus,
situations where a thread is responsible for interacting
with graphics resources may need to prevent graphics updates
unless the main thread is accessing or updating resources
shared with this ofThread (or its subclass).</p>
<pre><code><span class="token keyword">if</span><span class="token punctuation">(</span>myThread<span class="token punctuation">.</span><span class="token function">isCurrentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// do some myThread things,</span>
    <span class="token comment" spellcheck="true">// but keep your hands off my resources!</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ofThread<span class="token operator">::</span><span class="token function">isMainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// pheew! ok, update those graphics resources</span>
<span class="token punctuation">}</span>
</code></pre>
<p>By way of another example, a subclass of ofThread may have
an update() method that is called from ofBaseApp during the
execution of the main application thread.  In these cases,
the ofThread subclass might want to ask itself whether it
can, for instance, call update() on an ofImage, in order to
send copy some ofPixels to an ofTexture on the graphics
card.</p>
<p><strong>Returns</strong>: True iff this ofThread the currently active thread.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool isThreadRunning()</p>
<p>&amp;lt;!--
<em>syntax: isThreadRunning()</em>
<em>name: isThreadRunning</em>
<em>returns: bool</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Check the running status of the thread.</p>
<p><strong>Returns</strong>: true iff the thread is currently running.</p>
<p>_description: _</p>
<p>Returns true if the thread is currently running. This is especially useful inside the thread&#39;s threadedFunction() when you want it to loop continuously until it&#39;s told to exit:</p>
<pre><code>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofThread <span class="token punctuation">{</span>

	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

	<span class="token comment" spellcheck="true">// the thread function</span>
	<span class="token keyword">void</span> MyThread<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
		<span class="token comment" spellcheck="true">// start</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
			<span class="token comment" spellcheck="true">// do stuff</span>
		<span class="token punctuation">}</span>
	
		<span class="token comment" spellcheck="true">// done</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool lock()</p>
<p>&amp;lt;!--
<em>syntax: lock()</em>
<em>name: lock</em>
<em>returns: bool</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Lock the mutex.</p>
<p>If the thread was started startThread(true), then this call will wait
until the mutex is available and return true.  If the thread was started
startThread(false), this call will return true iff the mutex is
was successfully acquired.</p>
<p><strong>Returns</strong>: true if the lock was successfully acquired.</p>
<p>_description: _</p>
<p>Try to lock the mutex.</p>
<p>If the thread was started in blocking mode in startThread(), any thread (including your app main loop) will wait until the mutex is unlocked.</p>
<p>If the thread is non-blocking, this call will immediately return a true or false if the mutex is available. It is up to you to make sure the resource is not being used when accessing it. See the <a href="http://en.wikipedia.org/wiki/Non-blocking_algorithm">Wikipedia article on Non-blocking</a> for reasons as to why using a non-blocking thread might be more advantageous.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<h3>ofThread()</h3>
<p>&amp;lt;!--
<em>syntax: ofThread()</em>
<em>name: ofThread</em>
_returns: _
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Create an ofThread.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void run()</p>
<p>&amp;lt;!--
<em>syntax: run()</em>
<em>name: run</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: private</em>
<em>version_started: 0071</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void setThreadName(&amp;amp;name)</p>
<p>&amp;lt;!--
<em>syntax: setThreadName(&amp;amp;name)</em>
<em>name: setThreadName</em>
<em>returns: void</em>
_returns_description: _
<em>parameters: const string &amp;amp;name</em>
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void sleep(milliseconds)</p>
<p>&amp;lt;!--
<em>syntax: sleep(milliseconds)</em>
<em>name: sleep</em>
<em>returns: void</em>
_returns_description: _
<em>parameters: long milliseconds</em>
<em>access: public</em>
<em>version_started: 0.8.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Tell the thread to sleep for a certain amount of milliseconds.</p>
<p>This is useful inside the threadedFunction() when a thread is waiting
for input to process:</p>
<pre><code><span class="token keyword">void</span> MyThreadedClass<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	    <span class="token comment" spellcheck="true">// start</span>
	    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// bReadyToProcess can be set from outside the threadedFuntion.</span>
        <span class="token comment" spellcheck="true">// perhaps by another thread that downloads data, or loads</span>
        <span class="token comment" spellcheck="true">// some media, etc.</span>

	    	<span class="token keyword">if</span><span class="token punctuation">(</span>bReadyToProcess <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
	    		<span class="token comment" spellcheck="true">// do some time intensive processing</span>
	    		bReadyToProcess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	    	<span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
	    		<span class="token comment" spellcheck="true">// sleep the thread to give up some cpu</span>
	    		<span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    	<span class="token punctuation">}</span>
	    <span class="token punctuation">}</span>
	    <span class="token comment" spellcheck="true">// done</span>
<span class="token punctuation">}</span>
</code></pre>
<p>If the user does not give the thread a chance to sleep, the
thread may take 100% of the CPU core while it&#39;s looping as it
waits for something to do.  This may lead to poor application
performance.</p>
<p><strong>Parameters:</strong></p>
<p>milliseconds The number of milliseconds to sleep.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void startThread()</p>
<p>&amp;lt;!--
<em>syntax: startThread()</em>
<em>name: startThread</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0.8.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Start the thread.
\note Subclasses can directly access the mutex and employ thier
own locking strategy.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void stopThread()</p>
<p>&amp;lt;!--
<em>syntax: stopThread()</em>
<em>name: stopThread</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0072</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Stop the thread.</p>
<p>This does immediately stop the thread from processing, but
will only set a flag that must be checked from within your
threadedFunction() by calling isThreadRunning().  If the user wants
to both stop the thread AND wait for the thread to finish
processing, the user should call waitForThread(true, ...).</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void threadedFunction()</p>
<p>&amp;lt;!--
<em>syntax: threadedFunction()</em>
<em>name: threadedFunction</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: protected</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>The thread&#39;s run function.</p>
<p>Users must overide this in your their derived class
and then implement their threaded activity inside the loop.
If the the users&#39;s threadedFunction does not have a loop,
the contents of the threadedFunction will be executed once
and the thread will then exit.</p>
<p>For tasks that must be repeated, the user can use a while
loop that will run repeatedly until the thread&#39;s
threadRunning is set to false via the stopThread() method.</p>
<pre><code><span class="token keyword">void</span> MyThreadedClass<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// Start the loop and continue until</span>
    <span class="token comment" spellcheck="true">// isThreadRunning() returns false.</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// Do activity repeatedly here:</span>

        <span class="token comment" spellcheck="true">// int j = 1 + 1;</span>

        <span class="token comment" spellcheck="true">// This while loop will run as fast as it possibly</span>
        <span class="token comment" spellcheck="true">// can, consuming as much processor speed as it can.</span>
        <span class="token comment" spellcheck="true">// To help the processor stay cool, users are</span>
        <span class="token comment" spellcheck="true">// encouraged to let the while loop sleep via the</span>
        <span class="token comment" spellcheck="true">// sleep() method, or call the yield() method to let</span>
        <span class="token comment" spellcheck="true">// other threads have a turn.  See the sleep() and</span>
        <span class="token comment" spellcheck="true">// yield() methods for more information.</span>

        <span class="token comment" spellcheck="true">// sleep(100);</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>_description: _</p>
<p>This is the thread run function, the heart of your thread.</p>
<p>You need to override this in your derived class and implement your thread stuff inside. If you do not have a loop inside this function, it will run once then exit. If you want the thread to run until you signal it to stop, use a while loop inside that checks if the thread is should keep running.</p>
<p>Declaration in a .h file:</p>
<pre><code>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofThread <span class="token punctuation">{</span>

	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

	<span class="token comment" spellcheck="true">// the thread function</span>
	<span class="token keyword">void</span> MyThread<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
		<span class="token comment" spellcheck="true">// start</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
			<span class="token comment" spellcheck="true">// do stuff</span>
		<span class="token punctuation">}</span>
	
		<span class="token comment" spellcheck="true">// done</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
<p>In the .cpp file:</p>
<pre><code>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// create object</span>
	MyThread thread<span class="token punctuation">;</span>
	
	<span class="token comment" spellcheck="true">// start the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">startThread</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// blocking, non verbose</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// do something else while the thread is running</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token comment" spellcheck="true">// stop the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">stopThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###bool tryLock()</p>
<p>&amp;lt;!--
<em>syntax: tryLock()</em>
<em>name: tryLock</em>
<em>returns: bool</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Tries to lock the mutex.</p>
<p>If the thread was started startThread(true), then this call will wait
until the mutex is available and return true.  If the thread was started
startThread(false), this call will return true iff the mutex is
was successfully acquired.</p>
<p><strong>Returns</strong>: true if the lock was successfully acquired.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void unlock()</p>
<p>&amp;lt;!--
<em>syntax: unlock()</em>
<em>name: unlock</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Unlock the mutex.</p>
<p>This will only unlocks the mutex if it was previously by the same
calling thread.</p>
<p>_description: _</p>
<p>Unlock the mutex.</p>
<p>This only unlocks the mutex if the calling thread had previously locked it, otherwise the functions does nothing and does not block.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void waitForThread(callStopThread = true, milliseconds)</p>
<p>&amp;lt;!--
<em>syntax: waitForThread(callStopThread = true, milliseconds)</em>
<em>name: waitForThread</em>
<em>returns: void</em>
_returns_description: _
<em>parameters: bool callStopThread=true, long milliseconds</em>
<em>access: public</em>
<em>version_started: 0.8.0</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Wait for the thread to exit (aka &amp;quot;joining&amp;quot; the thread).</p>
<p>This method waits for a thread will &amp;quot;block&amp;quot; and wait for the
thread (aka &amp;quot;join&amp;quot; the thread) before it returns.  This allows the
user to be sure that the thread is properly cleaned up.  An example
of when this might be particularly important is if the
threadedFunction() is opening a set of network sockets, or
downloading data from the web.  Destroying an ofThread subclass
without releasing those sockets (or other resources), may result in
segmentation faults, error signals or other undefined behaviors.</p>
<p><strong>Parameters:</strong></p>
<p>callStopThread Set stop to true if you want to signal the thread
to exit before waiting.  This is the equivalent to calling
stopThread(). If you your threadedFunction uses a while-loop that
depends on isThreadRunning() and you do not call stopThread() or set
stop == true, waitForThread will hang indefinitely.  Set stop ==
false ONLY if you have already called stopThread() and you simply
need to be sure your thread has finished its tasks.</p>
<p>milliseconds If millseconds is set to INFINITE_JOIN_TIMEOUT, the
waitForThread will wait indefinitely for the thread to complete.  If
milliseconds is set to a lower number (e.g. 10000 for 10 seconds),
waitForThread will wait for 10000 milliseconds and if the thread has
not yet stopped it will return and log an error message.  Users are
encouraged to use the default INFINITE_JOIN_TIMEOUT.  If the user is
unhappy with the amount of time it takes to join a thread, the user
is encouraged to seek more expedient ways of signalling their desire
for a thread to complete via other signalling methods such as
Poco::Event, Poco::Condition, or Poco::Semaphore.</p>
<p><strong>See also</strong>: http://pocoproject.org/slides/090-NotificationsEvents.pdf</p>
<p><strong>See also</strong>: http://pocoproject.org/docs/Poco.Condition.html</p>
<p><strong>See also</strong>: http://pocoproject.org/docs/Poco.Event.html</p>
<p><strong>See also</strong>: http://pocoproject.org/docs/Poco.Semaphore.html</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###void yield()</p>
<p>&amp;lt;!--
<em>syntax: yield()</em>
<em>name: yield</em>
<em>returns: void</em>
_returns_description: _
_parameters: _
<em>access: public</em>
<em>version_started: 0071</em>
_version_deprecated: _
_summary: _
<em>constant: False</em>
<em>static: False</em>
<em>visible: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>Tell the thread to give up its CPU time other threads.</p>
<p>This method is similar to sleep() and can often be used in
the same way.  The main difference is that 1 millisecond
(the minimum sleep time available with sleep()) is a very
long time on modern processors and yield() simply gives up
processing time to the next thread, instead of waiting for
number of milliseconds. In some cases, this behavior will
be preferred.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>##Variables</p>
<p>###condition_variable condition</p>
<p>&amp;lt;!--
<em>name: condition</em>
<em>type: condition_variable</em>
<em>access: private</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###ofMutex mutex</p>
<p>&amp;lt;!--
<em>name: mutex</em>
<em>type: ofMutex</em>
<em>access: protected</em>
<em>version_started: 007</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>The internal mutex called through lock() &amp;amp; unlock().</p>
<p>This mutext can also be used with std::unique_lock or lock_guard
within the threaded function by calling:</p>
<pre><code>std<span class="token operator">::</span>unique_lock<span class="token operator">&amp;amp;</span>lt<span class="token punctuation">;</span>std<span class="token operator">::</span>mutex<span class="token operator">&amp;amp;</span>gt<span class="token punctuation">;</span> <span class="token function">lock</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>_description: _</p>
<p>This is the internal <a href="http://en.wikipedia.org/wiki/Mutex">mutex</a> called through lock() &amp;amp; unlock(). You can use it manually inside your derived class.</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###atomic&amp;lt; bool &amp;gt; mutexBlocks</p>
<p>&amp;lt;!--
<em>name: mutexBlocks</em>
<em>type: atomic&amp;lt; bool &amp;gt;</em>
<em>access: private</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###string name</p>
<p>&amp;lt;!--
<em>name: name</em>
<em>type: string</em>
<em>access: private</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###Poco thread</p>
<p>&amp;lt;!--
<em>name: thread</em>
<em>type: Poco</em>
<em>access: private</em>
<em>version_started: 0071</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: True</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>The Poco::Thread that runs the Poco::Runnable.</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###atomic&amp;lt; bool &amp;gt; threadDone</p>
<p>&amp;lt;!--
<em>name: threadDone</em>
<em>type: atomic&amp;lt; bool &amp;gt;</em>
<em>access: private</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
<p>###atomic&amp;lt; bool &amp;gt; threadRunning</p>
<p>&amp;lt;!--
<em>name: threadRunning</em>
<em>type: atomic&amp;lt; bool &amp;gt;</em>
<em>access: private</em>
<em>version_started: 0.10.0</em>
_version_deprecated: _
_summary: _
<em>visible: True</em>
<em>constant: False</em>
<em>advanced: False</em>
--&amp;gt;</p>
<p>_inlined_description: _</p>
<p>_description: _</p>
<p>&amp;lt;!-----------------------------------------------------------------------------&amp;gt;</p>
'><div id="side-menu" class="markdown"><div id="params"><h4>Variables</h4><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">condition_variable </span><span>condition</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">ofMutex </span><span>mutex</span><span class="token comment"></span></div><div class="desc"><p>This is the internal <a href="http://en.wikipedia.org/wiki/Mutex">mutex</a> called through lock() & unlock(). You can use it manually inside your derived class.</p>
</div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">string </span><span>name</span><span class="token comment"></span></div><div class="desc"></div></div></code><code><div class="functions"></div><div class="variable"><div class="title"><span class="token keyword">Poco </span><span>thread</span><span class="token comment">The Poco::Thread that runs the Poco::Runnable.
</span></div><div class="desc"></div></div></code><hr></div><div id="methods-list"><h4>Methods</h4><div class="anchor"><code><a href="#getNativeThread" class="pink">getNativeThread</a></code></div><div class="anchor"><code><a href="#getNativeThread" class="pink">getNativeThread</a></code></div><div class="anchor"><code><a href="#getThreadId" class="pink">getThreadId</a></code></div><div class="anchor"><code><a href="#getThreadName" class="pink">getThreadName</a></code></div><div class="anchor"><code><a href="#isCurrentThread" class="pink">isCurrentThread</a></code></div><div class="anchor"><code><a href="#isThreadRunning" class="pink">isThreadRunning</a></code></div><div class="anchor"><code><a href="#lock" class="pink">lock</a></code></div><div class="anchor"><code><a href="#ofThread" class="pink">ofThread</a></code></div><div class="anchor"><code><a href="#run">run</a></code></div><div class="anchor"><code><a href="#setThreadName">setThreadName</a></code></div><div class="anchor"><code><a href="#sleep" class="pink">sleep</a></code></div><div class="anchor"><code><a href="#startThread" class="pink">startThread</a></code></div><div class="anchor"><code><a href="#stopThread" class="pink">stopThread</a></code></div><div class="anchor"><code><a href="#threadedFunction" class="pink">threadedFunction</a></code></div><div class="anchor"><code><a href="#tryLock" class="pink">tryLock</a></code></div><div class="anchor"><code><a href="#unlock" class="pink">unlock</a></code></div><div class="anchor"><code><a href="#waitForThread" class="pink">waitForThread</a></code></div><div class="anchor"><code><a href="#yield" class="pink">yield</a></code></div></div><div id="see-also" filename="ofThread.markdown" absolute="/Users/gilbertsinnott/Code/openFrameworks/ofSite/documentation/utils/ofThread.markdown" route="/documentation/utils/ofThread.markdown" dir="../ofSite/documentation/utils" ext="markdown" type="page" parent="2196" breadcrumbs="2196,1718" siblings="" translations="[object Object]" class="see-also"><h4>See also</h4><div class="also"><a href="/documentation/utils/ofThreadChannel"><span class="origin">documentation</span><span class="name">ofThreadChannel</span></a></div><div class="also"><a href="/openframeworks/utils/ofThreadChannel_h"><span class="origin">openframeworks</span><span class="name">ofThreadChannel.h</span></a></div><div class="also"><a href="/openframeworks/utils/ofThread_h"><span class="origin">openframeworks</span><span class="name">ofThread.h</span></a></div><div class="also"><a href="/openframeworks/utils/ofThread_cpp"><span class="origin">openframeworks</span><span class="name">ofThread.cpp</span></a></div></div></div><div id="offset-page"><div id="doc-header" class="inner"><div id="doctitles"><h1 class="page-title mb1 questrial"><span class="f7">ofThread</span><span class="langs f5"></span></h1><!----></div><div id="actions"><button class="button">Edit</button><!----></div></div><div id="doc-body" class="markdown"><!----><div class="inner"><div class="renderer"><div id="description"><div class="full-description"><div class="html"><p>ofThread is a thread base class with a built in mutex. A <a href="http://en.wikipedia.org/wiki/Thread_(computing)">thread</a> is essentially a mini processing object you can run in parallel to your main application loop and is useful for running time intensive operations without slowing down your app.</p>
<p>####Implementing a Thread</p>
<p>For instance, you have to grab from a camera and waiting for an image slows down your app. You can offload this wait to a thread which tells the main app when an image is ready. To do this, you create a class that inherits from the ofThread class and implement the threadedFunction() function.</p>
<p>Declaration in a .h file:</p>
<pre><code>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofThread <span class="token punctuation">{</span>

	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

	<span class="token comment" spellcheck="true">// the thread function</span>
	<span class="token keyword">void</span> MyThread<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
		<span class="token comment" spellcheck="true">// start</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
			cam<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>cam<span class="token punctuation">.</span><span class="token function">isFrameNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
				<span class="token comment" spellcheck="true">// load the image</span>
				image<span class="token punctuation">.</span><span class="token function">setFromPixels</span><span class="token punctuation">(</span>cam<span class="token punctuation">.</span><span class="token function">getPixels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	
		<span class="token comment" spellcheck="true">// done</span>
	<span class="token punctuation">}</span>
	
	ofVideoGrabber cam<span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// the cam</span>
	ofImage image<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
<p>In the application .h inside the ofApp class declare an object of type MyThread like:</p>
<pre><code><span class="token comment" spellcheck="true">// create object</span>
MyThread thread<span class="token punctuation">;</span>
</code></pre>
<p>then in the .cpp file:</p>
<pre><code>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// start the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">startThread</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// blocking</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token comment" spellcheck="true">// do something with the thread is running</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// stop the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">stopThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>####Shared Resources</p>
<p>With this great power, however, comes great responsibility. If both the thread and your main app loop try to access the image at the same time, bad things happen inside your computer and the app will crash. The image is a considered a "shared resource" and you need to make sure to lock access to it so that only 1 thread can access it a time. You can do this using a <a href="http://en.wikipedia.org/wiki/Mutex">"mutal exclusion" object</a> by called lock() when you want to access the resource, then unlock() when you are done.</p>
<p>Declaration in a .h file:</p>
<pre><code>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofThread <span class="token punctuation">{</span>

	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

	<span class="token comment" spellcheck="true">// the thread function</span>
	<span class="token keyword">void</span> MyThread<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
		<span class="token comment" spellcheck="true">// start</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
			cam<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>cam<span class="token punctuation">.</span><span class="token function">isFrameNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
				<span class="token comment" spellcheck="true">// lock access to the resource</span>
				<span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				
				<span class="token comment" spellcheck="true">// load the image</span>
				image<span class="token punctuation">.</span><span class="token function">setFromPixels</span><span class="token punctuation">(</span>cam<span class="token punctuation">.</span><span class="token function">getPixels</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
				<span class="token comment" spellcheck="true">// done with the resource</span>
				<span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>	
		<span class="token punctuation">}</span>
	
		<span class="token comment" spellcheck="true">// done</span>
	<span class="token punctuation">}</span>

	ofVideoGrabber cam<span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// the cam</span>
	ofImage image<span class="token punctuation">;</span>		<span class="token comment" spellcheck="true">// the shared resource</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
<p>In the .cpp file:</p>
<pre><code>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token comment" spellcheck="true">// start the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">startThread</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// blocking, non verbose</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token comment" spellcheck="true">// lock access to the resource</span>
	thread<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment" spellcheck="true">// copy image</span>
	myImage <span class="token operator">=</span> thread<span class="token punctuation">.</span>image<span class="token punctuation">;</span>
	
	<span class="token comment" spellcheck="true">// done with the resource</span>
	thread<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// stop the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">stopThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
<p>####Exiting Nicely</p>
<p>As a thread is running in parallel with your application main loop, it's important to remember to tell it to stop before exiting the app. If you don't, you'll get weird errors or hangs because you aren't being nice to your threads. Depending on how you started your thread (blocking or non-blocking mode), you will either stop it for wait for it to finish. See the stopThread() & waitForThread() functions.</p>
<p>####Debugging</p>
<p>Thread errors are <em>notoriously</em> difficult to debug sometimes. You will probably see a "Bad Access" runtime error or something similar if multiple threads are trying to access a shared resource simultaneously. Other times, nothing will happen as the thread may be stuck in an infinite loop and you can't stop it. Wee! We assume if you've read this far, you probably accept the difficulties in order to reap the thread speed rewards.</p>
<p>A useful tool in debugging thread timing and access is the ofThread verbose mode which prints thread events such as starting, stopping, and mutex locking/unlocking. Simply set verbose=true when calling startThread(). Another trick is to use an ofSleepMillis() inside the thread to slow it down so you can see the timing better while debugging it.</p>
<p>####HOO RAH</p>
<p>Ok soldier, lock and load ... good luck!</p>
<h1></h1>
</div></div></div><div id="methods"><hr><section name="getNativeThread" id="getNativeThread" class="mb2"><div class="method mb2"><h3 class="f3 title">getNativeThread(<!---->)</h3><code><span class="token keyword">thread &  </span><span class="token function">getNativeThread</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Get a reference to the underlying Poco thread.</p>
<p>Poco::Thread provides a clean cross-platform wrapper for
threads.  On occasion, it may be useful to interact with the
underlying Poco::Thread directly.</p>
<p><strong>Returns</strong>: A reference to the backing Poco thread.</p>
</div><div class="desc"></div></div><hr></section><section name="getNativeThread" id="getNativeThread" class="mb2"><div class="method mb2"><h3 class="f3 title">getNativeThread(<!---->)</h3><code><span class="token keyword">const thread &  </span><span class="token function">getNativeThread</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Get a const reference to the underlying Poco thread.</p>
<p>Poco::Thread provides a clean cross-platform wrapper for
threads.  On occasion, it may be useful to interact with the
underlying Poco::Thread directly.</p>
<p><strong>Returns</strong>: A reference to the backing Poco thread.</p>
</div><div class="desc"></div></div><hr></section><section name="getThreadId" id="getThreadId" class="mb2"><div class="method mb2"><h3 class="f3 title">getThreadId(<!---->)</h3><code><span class="token keyword">thread::id  </span><span class="token function">getThreadId</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Get the unique thread id.
\note This is NOT the the same as the operating thread id!</p>
</div><div class="desc"></div></div><hr></section><section name="getThreadName" id="getThreadName" class="mb2"><div class="method mb2"><h3 class="f3 title">getThreadName(<!---->)</h3><code><span class="token keyword">string  </span><span class="token function">getThreadName</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Get the unique thread name, in the form of "Thread id#"</p>
<p><strong>Returns</strong>: the Thread ID string.</p>
</div><div class="desc"></div></div><hr></section><section name="isCurrentThread" id="isCurrentThread" class="mb2"><div class="method mb2"><h3 class="f3 title">isCurrentThread(<!---->)</h3><code><span class="token keyword">bool  </span><span class="token function">isCurrentThread</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Query whether the current thread is active.</p>
<p>In multithreaded situations, it can be useful to know which
thread is currently running some code in order to make sure
only certain threads can do certain things.  For example,
OpenGL can only run in the main execution thread.  Thus,
situations where a thread is responsible for interacting
with graphics resources may need to prevent graphics updates
unless the main thread is accessing or updating resources
shared with this ofThread (or its subclass).</p>
<pre><code><span class="token keyword">if</span><span class="token punctuation">(</span>myThread<span class="token punctuation">.</span><span class="token function">isCurrentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// do some myThread things,</span>
    <span class="token comment" spellcheck="true">// but keep your hands off my resources!</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ofThread<span class="token operator">::</span><span class="token function">isMainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// pheew! ok, update those graphics resources</span>
<span class="token punctuation">}</span>
</code></pre>
<p>By way of another example, a subclass of ofThread may have
an update() method that is called from ofBaseApp during the
execution of the main application thread.  In these cases,
the ofThread subclass might want to ask itself whether it
can, for instance, call update() on an ofImage, in order to
send copy some ofPixels to an ofTexture on the graphics
card.</p>
<p><strong>Returns</strong>: True iff this ofThread the currently active thread.</p>
</div><div class="desc"></div></div><hr></section><section name="isThreadRunning" id="isThreadRunning" class="mb2"><div class="method mb2"><h3 class="f3 title">isThreadRunning(<!---->)</h3><code><span class="token keyword">bool  </span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Check the running status of the thread.</p>
<p><strong>Returns</strong>: true iff the thread is currently running.</p>
</div><div class="desc"><p>Returns true if the thread is currently running. This is especially useful inside the thread's threadedFunction() when you want it to loop continuously until it's told to exit:</p>
<pre><code>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofThread <span class="token punctuation">{</span>

	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

	<span class="token comment" spellcheck="true">// the thread function</span>
	<span class="token keyword">void</span> MyThread<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
		<span class="token comment" spellcheck="true">// start</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
			<span class="token comment" spellcheck="true">// do stuff</span>
		<span class="token punctuation">}</span>
	
		<span class="token comment" spellcheck="true">// done</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
</div></div><hr></section><section name="lock" id="lock" class="mb2"><div class="method mb2"><h3 class="f3 title">lock(<!---->)</h3><code><span class="token keyword">bool  </span><span class="token function">lock</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Lock the mutex.</p>
<p>If the thread was started startThread(true), then this call will wait
until the mutex is available and return true.  If the thread was started
startThread(false), this call will return true iff the mutex is
was successfully acquired.</p>
<p><strong>Returns</strong>: true if the lock was successfully acquired.</p>
</div><div class="desc"><p>Try to lock the mutex.</p>
<p>If the thread was started in blocking mode in startThread(), any thread (including your app main loop) will wait until the mutex is unlocked.</p>
<p>If the thread is non-blocking, this call will immediately return a true or false if the mutex is available. It is up to you to make sure the resource is not being used when accessing it. See the <a href="http://en.wikipedia.org/wiki/Non-blocking_algorithm">Wikipedia article on Non-blocking</a> for reasons as to why using a non-blocking thread might be more advantageous.</p>
</div></div><hr></section><section name="ofThread" id="ofThread" class="mb2"><div class="method mb2"><h3 class="f3 title">ofThread(<!---->)</h3><code><!----><span class="token function">ofThread</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Create an ofThread.</p>
</div><div class="desc"></div></div><hr></section><section name="run" id="run" class="mb2"><div class="method mb2"><h3 class="f3 title">run(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">run</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="setThreadName" id="setThreadName" class="mb2"><div class="method mb2"><h3 class="f3 title">setThreadName(<code class="pink"></code>)</h3><code><span class="token keyword">void  </span><span class="token function">setThreadName</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">const</span> string <span class="token operator">&</span>name</code><span class="token punctuation">)</span></code><div class="short"></div><div class="desc"></div></div><hr></section><section name="sleep" id="sleep" class="mb2"><div class="method mb2"><h3 class="f3 title">sleep(<code class="pink"></code>)</h3><code><span class="token keyword">void  </span><span class="token function">sleep</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">long</span> milliseconds</code><span class="token punctuation">)</span></code><div class="short"><p>Tell the thread to sleep for a certain amount of milliseconds.</p>
<p>This is useful inside the threadedFunction() when a thread is waiting
for input to process:</p>
<pre><code><span class="token keyword">void</span> MyThreadedClass<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	    <span class="token comment" spellcheck="true">// start</span>
	    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// bReadyToProcess can be set from outside the threadedFuntion.</span>
        <span class="token comment" spellcheck="true">// perhaps by another thread that downloads data, or loads</span>
        <span class="token comment" spellcheck="true">// some media, etc.</span>

	    	<span class="token keyword">if</span><span class="token punctuation">(</span>bReadyToProcess <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
	    		<span class="token comment" spellcheck="true">// do some time intensive processing</span>
	    		bReadyToProcess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	    	<span class="token punctuation">}</span>
        <span class="token keyword">else</span>
        <span class="token punctuation">{</span>
	    		<span class="token comment" spellcheck="true">// sleep the thread to give up some cpu</span>
	    		<span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    	<span class="token punctuation">}</span>
	    <span class="token punctuation">}</span>
	    <span class="token comment" spellcheck="true">// done</span>
<span class="token punctuation">}</span>
</code></pre>
<p>If the user does not give the thread a chance to sleep, the
thread may take 100% of the CPU core while it's looping as it
waits for something to do.  This may lead to poor application
performance.</p>
<p><strong>Parameters:</strong></p>
<p>milliseconds The number of milliseconds to sleep.</p>
</div><div class="desc"></div></div><hr></section><section name="startThread" id="startThread" class="mb2"><div class="method mb2"><h3 class="f3 title">startThread(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">startThread</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Start the thread.
\note Subclasses can directly access the mutex and employ thier
own locking strategy.</p>
</div><div class="desc"></div></div><hr></section><section name="stopThread" id="stopThread" class="mb2"><div class="method mb2"><h3 class="f3 title">stopThread(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">stopThread</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Stop the thread.</p>
<p>This does immediately stop the thread from processing, but
will only set a flag that must be checked from within your
threadedFunction() by calling isThreadRunning().  If the user wants
to both stop the thread AND wait for the thread to finish
processing, the user should call waitForThread(true, ...).</p>
</div><div class="desc"></div></div><hr></section><section name="threadedFunction" id="threadedFunction" class="mb2"><div class="method mb2"><h3 class="f3 title">threadedFunction(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>The thread's run function.</p>
<p>Users must overide this in your their derived class
and then implement their threaded activity inside the loop.
If the the users's threadedFunction does not have a loop,
the contents of the threadedFunction will be executed once
and the thread will then exit.</p>
<p>For tasks that must be repeated, the user can use a while
loop that will run repeatedly until the thread's
threadRunning is set to false via the stopThread() method.</p>
<pre><code><span class="token keyword">void</span> MyThreadedClass<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// Start the loop and continue until</span>
    <span class="token comment" spellcheck="true">// isThreadRunning() returns false.</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// Do activity repeatedly here:</span>

        <span class="token comment" spellcheck="true">// int j = 1 + 1;</span>

        <span class="token comment" spellcheck="true">// This while loop will run as fast as it possibly</span>
        <span class="token comment" spellcheck="true">// can, consuming as much processor speed as it can.</span>
        <span class="token comment" spellcheck="true">// To help the processor stay cool, users are</span>
        <span class="token comment" spellcheck="true">// encouraged to let the while loop sleep via the</span>
        <span class="token comment" spellcheck="true">// sleep() method, or call the yield() method to let</span>
        <span class="token comment" spellcheck="true">// other threads have a turn.  See the sleep() and</span>
        <span class="token comment" spellcheck="true">// yield() methods for more information.</span>

        <span class="token comment" spellcheck="true">// sleep(100);</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
</div><div class="desc"><p>This is the thread run function, the heart of your thread.</p>
<p>You need to override this in your derived class and implement your thread stuff inside. If you do not have a loop inside this function, it will run once then exit. If you want the thread to run until you signal it to stop, use a while loop inside that checks if the thread is should keep running.</p>
<p>Declaration in a .h file:</p>
<pre><code>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token operator">:</span> <span class="token keyword">public</span> ofThread <span class="token punctuation">{</span>

	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

	<span class="token comment" spellcheck="true">// the thread function</span>
	<span class="token keyword">void</span> MyThread<span class="token operator">::</span><span class="token function">threadedFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
		<span class="token comment" spellcheck="true">// start</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token function">isThreadRunning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
			<span class="token comment" spellcheck="true">// do stuff</span>
		<span class="token punctuation">}</span>
	
		<span class="token comment" spellcheck="true">// done</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre>
<p>In the .cpp file:</p>
<pre><code>
<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// create object</span>
	MyThread thread<span class="token punctuation">;</span>
	
	<span class="token comment" spellcheck="true">// start the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">startThread</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment" spellcheck="true">// blocking, non verbose</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">// do something else while the thread is running</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> ofApp<span class="token operator">::</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
	<span class="token comment" spellcheck="true">// stop the thread</span>
	thread<span class="token punctuation">.</span><span class="token function">stopThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
</div></div><hr></section><section name="tryLock" id="tryLock" class="mb2"><div class="method mb2"><h3 class="f3 title">tryLock(<!---->)</h3><code><span class="token keyword">bool  </span><span class="token function">tryLock</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Tries to lock the mutex.</p>
<p>If the thread was started startThread(true), then this call will wait
until the mutex is available and return true.  If the thread was started
startThread(false), this call will return true iff the mutex is
was successfully acquired.</p>
<p><strong>Returns</strong>: true if the lock was successfully acquired.</p>
</div><div class="desc"></div></div><hr></section><section name="unlock" id="unlock" class="mb2"><div class="method mb2"><h3 class="f3 title">unlock(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">unlock</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Unlock the mutex.</p>
<p>This will only unlocks the mutex if it was previously by the same
calling thread.</p>
</div><div class="desc"><p>Unlock the mutex.</p>
<p>This only unlocks the mutex if the calling thread had previously locked it, otherwise the functions does nothing and does not block.</p>
</div></div><hr></section><section name="waitForThread" id="waitForThread" class="mb2"><div class="method mb2"><h3 class="f3 title">waitForThread(<code class="pink"></code>)</h3><code><span class="token keyword">void  </span><span class="token function">waitForThread</span><span class="token punctuation">(</span><code class="token boolean"><span class="token keyword">bool</span> callStopThread<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">long</span> milliseconds</code><span class="token punctuation">)</span></code><div class="short"><p>Wait for the thread to exit (aka "joining" the thread).</p>
<p>This method waits for a thread will "block" and wait for the
thread (aka "join" the thread) before it returns.  This allows the
user to be sure that the thread is properly cleaned up.  An example
of when this might be particularly important is if the
threadedFunction() is opening a set of network sockets, or
downloading data from the web.  Destroying an ofThread subclass
without releasing those sockets (or other resources), may result in
segmentation faults, error signals or other undefined behaviors.</p>
<p><strong>Parameters:</strong></p>
<p>callStopThread Set stop to true if you want to signal the thread
to exit before waiting.  This is the equivalent to calling
stopThread(). If you your threadedFunction uses a while-loop that
depends on isThreadRunning() and you do not call stopThread() or set
stop == true, waitForThread will hang indefinitely.  Set stop ==
false ONLY if you have already called stopThread() and you simply
need to be sure your thread has finished its tasks.</p>
<p>milliseconds If millseconds is set to INFINITE_JOIN_TIMEOUT, the
waitForThread will wait indefinitely for the thread to complete.  If
milliseconds is set to a lower number (e.g. 10000 for 10 seconds),
waitForThread will wait for 10000 milliseconds and if the thread has
not yet stopped it will return and log an error message.  Users are
encouraged to use the default INFINITE_JOIN_TIMEOUT.  If the user is
unhappy with the amount of time it takes to join a thread, the user
is encouraged to seek more expedient ways of signalling their desire
for a thread to complete via other signalling methods such as
Poco::Event, Poco::Condition, or Poco::Semaphore.</p>
<p><strong>See also</strong>: http://pocoproject.org/slides/090-NotificationsEvents.pdf</p>
<p><strong>See also</strong>: http://pocoproject.org/docs/Poco.Condition.html</p>
<p><strong>See also</strong>: http://pocoproject.org/docs/Poco.Event.html</p>
<p><strong>See also</strong>: http://pocoproject.org/docs/Poco.Semaphore.html</p>
</div><div class="desc"></div></div><hr></section><section name="yield" id="yield" class="mb2"><div class="method mb2"><h3 class="f3 title">yield(<!---->)</h3><code><span class="token keyword">void  </span><span class="token function">yield</span><span class="token punctuation">(</span><!----><span class="token punctuation">)</span></code><div class="short"><p>Tell the thread to give up its CPU time other threads.</p>
<p>This method is similar to sleep() and can often be used in
the same way.  The main difference is that 1 millisecond
(the minimum sleep time available with sleep()) is a very
long time on modern processors and yield() simply gives up
processing time to the next thread, instead of waiting for
number of milliseconds. In some cases, this behavior will
be preferred.</p>
</div><div class="desc"></div></div><hr></section></div></div></div></div></div></div></div></div></div></div></div><script defer src="/_nuxt/payloads/1583566544124/documentation/utils/ofThread/payload.js"></script><script src="/_nuxt/cede893bee7aedd34019.js" defer></script><script src="/_nuxt/3517dc6c150c1f5be417.js" defer></script><script src="/_nuxt/561e36663ec83bdcd2ac.js" defer></script><script src="/_nuxt/26c5a70906ce7aaac460.js" defer></script><script src="/_nuxt/2c5d9034468f7212e81b.js" defer></script>
  </body>
</html>
